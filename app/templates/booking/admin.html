{% extends "base.html" %}

{% block title %}Hall Booking - {% endblock %}

{% block content %}

  <div class="container contentalign brandtext brandtext-inverse">

  {% for category, message in get_flashed_messages(with_categories=true) %}
  <div class="alert alert-{{ category }} alert-dismissable">
      <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
      <p>{{ message }}</p>
  </div>
  {% endfor %}
  
    <div class="panel panel-warning">

      <div class="panel-heading">New Booking Requests</div>
      <div class="panel-body">
        <!-- New booking requests -->
        <table class="table table-striped">
        
          <th>Client Name</th>
          <th>Request Date</th>
          <th>Date/time from</th>
          <th>Date/time to</th>
          <th></th>
          
          {% for booking in new_bookings %}
          
            <tr>
              <td>{{ booking.requestor.first_name ~ " " ~ booking.requestor.last_name }}</td>
              <td>{{ booking.dtRequest.strftime('%d/%m/%y') }}</td>
              <td>{{ booking.dtStart.strftime('%d/%m/%y') }}</td>
              <td>{{ booking.dtEnd.strftime('%d/%m/%y') }}</td>
              <td>
                <div class="btn-group">
                  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Action <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu">
                    <li><a href="{{ url_for('booking.approve', booking_id=booking.id) }}">Confirm/Approve</a></li>
                    <li><a href="{{ url_for('booking.cancel', booking_id=booking.id) }}">Cancel</a></li>
                  </ul>
                </div>
              </td>
            </tr>
          
          {% endfor %}
          
        </table>
      </div>

    </div>

    <div class="panel panel-primary">
      
      <div class="panel-heading">Confirmed Booking Requests</div>
      <div class="panel-body">

        <table class="table table-striped">
        
          <th>Client Name</th>
          <th>Request Date</th>
          <th>Date/time from</th>
          <th>Date/time to</th>
          <th></th>
          
          {% for booking in confirmed_bookings %}
          
            <tr>
              <td>{{ booking.requestor.first_name ~ " " ~ booking.requestor.last_name }}</td>
              <td>{{ booking.dtRequest.strftime('%d/%m/%y') }}</td>
              <td>{{ booking.dtStart.strftime('%d/%m/%y') }}</td>
              <td>{{ booking.dtEnd.strftime('%d/%m/%y') }}</td>
              <td>
                <div class="btn-group">
                  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Action <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu">
                    <li><a href="{{ url_for('booking.cancel', booking_id=booking.id) }}">Cancel</a></li>
                  </ul>
                </div>
              </td>
            </tr>
          
          {% endfor %}
          
        </table>

    </div>

  </div>

</div>

{% endblock %}

{% block extra_scripts %}



{% endblock %}